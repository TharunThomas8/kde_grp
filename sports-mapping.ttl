@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix geo: <http://www.opengis.net/ont/geosparql#> .
@prefix rr: <http://www.w3.org/ns/r2rml#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix ex: <http://data.example.org/ont#>
@prefix sch: <https://schema.org/address#> .

<#TennisClubs>
	a rr:TriplesMap ;
	
	rr:logicalTable [ rr:tableName "sports_centres" ] ;
	
	rr:subjectMap [
		rr:template "http://data.example.org/sports/{OBJECTID}" ;
		rr:class ex:TennisClub ;
	] ;
	
	rr:predicateObjectMap [
		rr:predicate ex:Name ;
		rr:predicate rdfs:label ;
		rr:objectMap [
             rr:column "NAME" ;
			 rr:datatype xsd:string ;
        ] ;
	] ;

    rr:predicateObjectMap [
		rr:predicate ex:Address ;
		rr:objectMap [
             rr:column "ADDRESS" ;
			 rr:datatype xsd:string ;
        ] ;
	] ;

	rr:predicateObjectMap [
		rr:predicate ex:Phone ;
		rr:objectMap [
             rr:column "PHONENUMBER" ;
			 rr:datatype xsd:long ;
        ] ;
	] ;

	rr:predicateObjectMap [
		rr:predicate ex:Website ;
		rr:objectMap [
             rr:column "WEBSITE" ;
			 rr:datatype xsd:string ;
        ] ;
	] ;

	rr:predicateObjectMap [
		rr:predicate ex:Email ;
		rr:objectMap [
             rr:column "EMAIL" ;
			 rr:datatype xsd:string ;
        ] ;
	] ;

	rr:predicateObjectMap [
		rr:predicate ex:Facebook ;
		rr:objectMap [
             rr:column "FACEBOOK" ;
			 rr:datatype xsd:string ;
        ] ;
	] ;

	rr:predicateObjectMap [
		rr:predicate ex:SportsHall ;
		rr:objectMap [
             rr:column "SPORTSHALL" ;
			 rr:datatype xsd:boolean ;
        ] ;
	] ;

	rr:predicateObjectMap [
		rr:predicate ex:Twitter ;
		rr:objectMap [
             rr:column "TWITTER" ;
			 rr:datatype xsd:string ;
        ] ;
	] ;

	rr:predicateObjectMap [
		rr:predicate ex:hasLocation ;
		rr:objectMap [
			rr:parentTriplesMap <#Geolocation> ;
			rr:joinCondition [
				rr:child "OBJECTID";
				rr:parent "OBJECTID";
			] 
        ] ;
	] ;
	.

<#Geolocation>

	a rr:TriplesMap ;
	
	rr:logicalTable [ rr:tableName "sports_centres" ] ;
	
	rr:subjectMap [
		rr:template "http://data.example.org/club/sports/{OBJECTID}/loc" ;
		rr:class ex:location ;
	] ;

	rr:predicateObjectMap [
		rr:predicate geo:hasGeometry ;
		rr:objectMap [
			 rr:template "POINT ({LAT} {LONG})" ;
			 rr:datatype geo:wktLiteral ; 
        ] ;
	] ;
	.
